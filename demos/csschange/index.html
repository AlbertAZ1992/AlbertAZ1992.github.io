<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>CSS 格式整理</title>
    <style>
    </style>
    <script>
        //$() to get Elements
        function $() {
            var elements = new Array();
            for (var i = 0; i < arguments.length; i++) {
                var element = arguments[i];
                if (typeof element == 'string')
                    element = document.getElementById(element);
                if (arguments.length == 1)
                    return element;
                elements.push(element);
            }
            return elements;
        }

        function encode(code)
        {
            code = code.replace(/\n/ig,'');
            code = code.replace(/(\s){2,}/ig,'$1');
            code = code.replace(/\t/ig,'');
            code = code.replace(/\n\}/ig,'\}');
            code = code.replace(/\n\{\s*/ig,'\{');
            code = code.replace(/(\S)\s*\}/ig,'$1\}');
            code = code.replace(/(\S)\s*\{/ig,'$1\{');
            code = code.replace(/\{\s*(\S)/ig,'\{$1');
            return code;
        }
        function decode(code)
        {
            code = code.replace(/(\s){2,}/ig,'$1');
            code = code.replace(/(\S)\s*\{/ig,'$1\n{');
            code = code.replace(/\*\/(.[^\}\{]*)}/ig,'\*\/\n$1}');
            code = code.replace(/\/\*/ig,'\n\/\*');
            code = code.replace(/;\s*(\S)/ig,';\n\t$1');
            code = code.replace(/\}\s*(\S)/ig,'\}\n$1');
            code = code.replace(/\n\s*\}/ig,'\n\}');
            code = code.replace(/\{\s*(\S)/ig,'\{\n\t$1');
            code = code.replace(/(\S)\s*\*\//ig,'$1\*\/');
            code = code.replace(/\*\/\s*([^\}\{]\S)/ig,'\*\/\n\t$1');
            code = code.replace(/(\S)\}/ig,'$1\n\}');
            code = code.replace(/(\n){2,}/ig,'\n');
            return code;
        }
    </script>
</head>
<body>
    <h1>CSS 格式整理</h1>
    <hr>

    <textarea style="width:700px;min-height:400px;" id="code">
    </textarea>
    <br>
    <input type="submit" onclick="$('code').value = decode($('code').value);" value="整理">
    <span> <span>
    <input type="submit" onclick="$('code').value = encode($('code').value);" value="还原">

</span></span></body>
</html>